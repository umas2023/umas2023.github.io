<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2023-07-13T14:40:29+08:00</updated><id>/feed.xml</id><title type="html">umas’ awesome title</title><subtitle>umas&apos; awesome description for my new site here. It will appear in my document head meta (for Google search results) and in my feed.xml site description.</subtitle><entry><title type="html">linux: samba局域网文件共享</title><link href="/linux/samba/" rel="alternate" type="text/html" title="linux: samba局域网文件共享" /><published>2023-07-13T14:35:51+08:00</published><updated>2023-07-13T14:35:51+08:00</updated><id>/linux/samba</id><content type="html" xml:base="/linux/samba/"><![CDATA[<ul>
  <li>下载配置</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>samba
<span class="nb">sudo </span>vim /etc/samba/smb.conf
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>share]
path <span class="o">=</span> /media/xf
valid <span class="nb">users</span> <span class="o">=</span> xf
writable <span class="o">=</span> <span class="nb">yes</span>
</code></pre></div></div>

<ul>
  <li>
    <p>↑share为samba显示的文件名，可以添加多个</p>
  </li>
  <li>
    <p>启动</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>smbpasswd <span class="nt">-a</span> umas
<span class="nb">sudo </span>service smbd restart
</code></pre></div></div>

<ul>
  <li>偶尔不能自动挂载</li>
  <li>手动挂载 sudo mount /dev/sda1 /media/xf/manuell-1T</li>
  <li>查看硬盘 sudo fdisk -l</li>
</ul>

<!-- ![引入图片](/image/linux/2023-07-13-samba/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="linux" /><summary type="html"><![CDATA[下载配置]]></summary></entry><entry><title type="html">linux: apt改国内源</title><link href="/linux/apt_source/" rel="alternate" type="text/html" title="linux: apt改国内源" /><published>2023-07-13T14:33:32+08:00</published><updated>2023-07-13T14:33:32+08:00</updated><id>/linux/apt_source</id><content type="html" xml:base="/linux/apt_source/"><![CDATA[<ul>
  <li>这里可以找到源：
    <ul>
      <li>阿里源：https://developer.aliyun.com/mirror/</li>
      <li>清华源：https://mirrors.tuna.tsinghua.edu.cn/</li>
      <li>华科源：http://mirrors.ustc.edu.cn/</li>
      <li>网易源：http://mirrors.163.com/</li>
    </ul>
  </li>
  <li>查看linux版本</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /etc/issue
<span class="c"># 返回</span>
Debian GNU/Linux 11 <span class="se">\n</span> <span class="se">\l</span>
</code></pre></div></div>

<ul>
  <li>debian换国内源，修改/etc/apt/sources.list文件</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s@http://deb.debian.org@https://mirrors.163.com@g"</span> /etc/apt/sources.list
</code></pre></div></div>

<ul>
  <li>
    <p>补充ubuntu改源</p>
  </li>
  <li>
    <p>备份原文件</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak
vim /etc/apt/sources.list
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
</code></pre></div></div>

<ul>
  <li>更新软件列表</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt update
</code></pre></div></div>

<!-- ![引入图片](/image/linux/2023-07-13-apt_source/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="linux" /><summary type="html"><![CDATA[这里可以找到源： 阿里源：https://developer.aliyun.com/mirror/ 清华源：https://mirrors.tuna.tsinghua.edu.cn/ 华科源：http://mirrors.ustc.edu.cn/ 网易源：http://mirrors.163.com/]]></summary></entry><entry><title type="html">python: python指向python3</title><link href="/python/python_python3/" rel="alternate" type="text/html" title="python: python指向python3" /><published>2023-07-13T14:31:35+08:00</published><updated>2023-07-13T14:31:35+08:00</updated><id>/python/python_python3</id><content type="html" xml:base="/python/python_python3/"><![CDATA[<ul>
  <li>
    <p>在.bashrc中<code class="language-plaintext highlighter-rouge">alias python=python3</code>可以解决一部分问题</p>
  </li>
  <li>
    <p>根源上解决</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mv</span> /usr/bin/python /usr/bin/python.bak
 
<span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/bin/python3 /usr/bin/python
<span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/bin/pip3 /usr/bin/pip
</code></pre></div></div>

<ul>
  <li>也可以试试这个</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt <span class="nb">install </span>python-is-python3
</code></pre></div></div>

<!-- ![引入图片](/image/python/2023-07-13-python_python3/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="python" /><summary type="html"><![CDATA[在.bashrc中alias python=python3可以解决一部分问题]]></summary></entry><entry><title type="html">linux: tmux终端窗口拆分</title><link href="/linux/tmux/" rel="alternate" type="text/html" title="linux: tmux终端窗口拆分" /><published>2023-07-13T14:22:05+08:00</published><updated>2023-07-13T14:22:05+08:00</updated><id>/linux/tmux</id><content type="html" xml:base="/linux/tmux/"><![CDATA[<ul>
  <li>多窗口工具：tmux
    <ul>
      <li>参考 https://zhuanlan.zhihu.com/p/102546608</li>
    </ul>
  </li>
  <li>会话session
<img src="/image/linux/2023-07-13-tmux/image_1.jpg" alt="引入图片" />
    <ul>
      <li>新建默认session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux</code></li>
        </ul>
      </li>
      <li>新建命名session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux new -s  &lt;session-name&gt; </code></li>
        </ul>
      </li>
      <li>离开session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux detach</code></li>
        </ul>
      </li>
      <li>查看session列表
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux ls</code></li>
        </ul>
      </li>
      <li>进入session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux attach -t  &lt;session-name&gt;</code></li>
        </ul>
      </li>
      <li>关闭session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux kill-session -t &lt;session-name&gt;</code></li>
          <li>ctrl+d</li>
        </ul>
      </li>
      <li>切换session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux switch -t &lt;session-name&gt;</code></li>
        </ul>
      </li>
      <li>重命名session
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux rename-session -t &lt;old-session-name&gt; &lt;new-session-name&gt;</code></li>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b   $</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>窗格<br />
  <img src="/image/linux/2023-07-13-tmux/image_2.jpg" alt="引入图片" />
    <ul>
      <li>切割窗格
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux split-window </code></li>
          <li>左右切割：<code class="language-plaintext highlighter-rouge">ctrl + b %</code></li>
          <li>上下切割：<code class="language-plaintext highlighter-rouge">ctrl + b “</code></li>
        </ul>
      </li>
      <li>光标移动
        <ul>
          <li>移到上面：<code class="language-plaintext highlighter-rouge">tmux select-pane  -U</code></li>
          <li>移到下面：<code class="language-plaintext highlighter-rouge">tmux select-pane -D</code></li>
          <li>移到左边：<code class="language-plaintext highlighter-rouge">tmux select-pane -L</code></li>
          <li>移到右边：<code class="language-plaintext highlighter-rouge">tmux select-pane -R</code></li>
          <li>方向键移动：<code class="language-plaintext highlighter-rouge">ctrl+b ↑/↓/←/→</code></li>
        </ul>
      </li>
      <li>移动窗格
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux swap-pane -U / -D</code></li>
        </ul>
      </li>
      <li>关闭窗格
        <ul>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b x</code></li>
        </ul>
      </li>
      <li>放大窗格
        <ul>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b z</code></li>
          <li>重复<code class="language-plaintext highlighter-rouge">ctrl+b z</code> 还原</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>窗口window
    <ul>
      <li>新建窗口
        <ul>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b c</code></li>
          <li><code class="language-plaintext highlighter-rouge">tmux new-window -n &lt;window-name&gt;</code></li>
        </ul>
      </li>
      <li>切换窗口
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux select-window -t &lt;window-name&gt;</code></li>
          <li><code class="language-plaintext highlighter-rouge">ctrl + b w</code> 显示窗口列表用方向键进入</li>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b n/p</code> 快速切换到上一个/下一个窗口</li>
        </ul>
      </li>
      <li>重命名窗口
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux rename-window &lt;new-window-name&gt;</code></li>
          <li><code class="language-plaintext highlighter-rouge">ctrl+b ,</code></li>
        </ul>
      </li>
      <li>关闭窗口
        <ul>
          <li><code class="language-plaintext highlighter-rouge">tmux kill-window -t &lt;window-name&gt;</code></li>
          <li><code class="language-plaintext highlighter-rouge">ctrl + b &amp;</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>快捷键的修改
    <ul>
      <li><code class="language-plaintext highlighter-rouge">~/.tmux.conf</code></li>
    </ul>
  </li>
  <li>其他命令行命令：ctrl+b+
    <ul>
      <li><code class="language-plaintext highlighter-rouge">t</code>：锁屏</li>
    </ul>
  </li>
</ul>

<!-- ![引入图片](/image/linux/2023-07-13-tmux/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="linux" /><summary type="html"><![CDATA[多窗口工具：tmux 参考 https://zhuanlan.zhihu.com/p/102546608]]></summary></entry><entry><title type="html">js: async,await异步修饰符</title><link href="/js/async_await/" rel="alternate" type="text/html" title="js: async,await异步修饰符" /><published>2023-07-13T14:18:18+08:00</published><updated>2023-07-13T14:18:18+08:00</updated><id>/js/async_await</id><content type="html" xml:base="/js/async_await/"><![CDATA[<ul>
  <li>await 关键字只能放在 async 函数内部，await关键字的作用是获取Promise中返回的内容，获取的是Promise函数中resolve或者reject的值</li>
  <li>如果一个 Promise 被传递给一个 await 操作符，await 将等待 Promise 正常处理完成并返回其处理结果。</li>
  <li>如果await后面不是一个Promise的返回值，则会按照同步程序返回值处理,为undefined</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">bbb</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">}</span>
    
<span class="k">async</span> <span class="kd">function</span> <span class="nf">funAsy</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">await</span> <span class="mi">1</span>
    <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nc">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="nf">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
            <span class="nf">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">time</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">},</span> <span class="mi">3000</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="kd">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">bbb</span><span class="p">()</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
<span class="p">}</span>
    
<span class="nf">funAsy</span><span class="p">()</span>

<span class="c1">//  运行结果是 3秒钟之后 ，输出 1， time , string,</span>
<span class="c1">//  程序在b = await处停顿了</span>
</code></pre></div></div>

<!-- ![引入图片](/image/js/2023-07-13-async_await/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="js" /><summary type="html"><![CDATA[await 关键字只能放在 async 函数内部，await关键字的作用是获取Promise中返回的内容，获取的是Promise函数中resolve或者reject的值 如果一个 Promise 被传递给一个 await 操作符，await 将等待 Promise 正常处理完成并返回其处理结果。 如果await后面不是一个Promise的返回值，则会按照同步程序返回值处理,为undefined]]></summary></entry><entry><title type="html">js: Promise</title><link href="/js/promise/" rel="alternate" type="text/html" title="js: Promise" /><published>2023-07-13T14:15:19+08:00</published><updated>2023-07-13T14:15:19+08:00</updated><id>/js/promise</id><content type="html" xml:base="/js/promise/"><![CDATA[<ul>
  <li>封装异步操作，避免回调地狱</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Promise</span><span class="p">((</span><span class="nx">res</span><span class="p">,</span> <span class="nx">rej</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">state</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">res</span><span class="p">(</span><span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">rej</span><span class="p">(</span><span class="dl">"</span><span class="s2">reject</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>


<span class="nx">p</span><span class="p">.</span><span class="nf">then</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">promise val:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">res</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="p">(</span><span class="nx">rej</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">promise err:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">rej</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">);</span>

</code></pre></div></div>

<!-- ![引入图片](/image/js/2023-07-13-promise/image_1.jpg) -->]]></content><author><name></name></author><category term="js" /><summary type="html"><![CDATA[封装异步操作，避免回调地狱]]></summary></entry><entry><title type="html">python: vscode中import黄色波浪线报警</title><link href="/python/windows/import_warning/" rel="alternate" type="text/html" title="python: vscode中import黄色波浪线报警" /><published>2023-07-13T14:12:11+08:00</published><updated>2023-07-13T14:12:11+08:00</updated><id>/python/windows/import_warning</id><content type="html" xml:base="/python/windows/import_warning/"><![CDATA[<p><img src="/image/python/2023-07-13-import_warning/image_1.png" alt="引入图片" /></p>

<ul>
  <li>
    <p>但是脚本能正常运行</p>
  </li>
  <li>
    <p>左下角打开设置，搜索：</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python analysis extra paths
</code></pre></div></div>

<p><img src="/image/python/2023-07-13-import_warning/image_2.png" alt="引入图片" /></p>

<ul>
  <li>用pip show查找目标的path:<code class="language-plaintext highlighter-rouge">c:\python310\lib\site-packages</code>添加进去</li>
</ul>]]></content><author><name></name></author><category term="python" /><category term="windows" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">python: 开启web服务器</title><link href="/python/local_server/" rel="alternate" type="text/html" title="python: 开启web服务器" /><published>2023-07-13T14:08:13+08:00</published><updated>2023-07-13T14:08:13+08:00</updated><id>/python/local_server</id><content type="html" xml:base="/python/local_server/"><![CDATA[<ul>
  <li>假如vue项目已经打包好了dist文件夹，可以用这个命令来启动一个web服务器</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python.exe <span class="nt">-m</span> http.server 8000
python.exe <span class="nt">-m</span> http.server 8000 <span class="nt">--directory</span> D:<span class="se">\s</span><span class="nt">-linux</span><span class="se">\p</span>roject<span class="se">\l</span>ocalviewer<span class="se">\h</span>tmlviewer<span class="se">\d</span>ata
</code></pre></div></div>

<!-- ![引入图片](/image/python/2023-07-13-local_server/image_1.jpg) -->

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="python" /><summary type="html"><![CDATA[假如vue项目已经打包好了dist文件夹，可以用这个命令来启动一个web服务器]]></summary></entry><entry><title type="html">python: 绝对路径</title><link href="/python/abs_path/" rel="alternate" type="text/html" title="python: 绝对路径" /><published>2023-07-13T14:01:53+08:00</published><updated>2023-07-13T14:01:53+08:00</updated><id>/python/abs_path</id><content type="html" xml:base="/python/abs_path/"><![CDATA[<ul>
  <li>获取当前程序运行的绝对路径法1</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
<span class="c1"># /Users/s/PycharmProjects/dr_check/main.py
</span></code></pre></div></div>

<ul>
  <li>获取当前程序运行的绝对路径法2</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">realpath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
<span class="c1"># /Users/s/PycharmProjects/dr_check/main.py
</span></code></pre></div></div>

<ul>
  <li>获取当前程序运行的绝对路径法3</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># split返回一个元组，取第一项即可得到文件夹的绝对路径
</span><span class="nf">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">realpath</span><span class="p">(</span><span class="n">__file__</span><span class="p">)))</span>
<span class="c1"># ('/Users/s/PycharmProjects/dr_check', 'main.py')
</span>
<span class="c1"># 或者这个也一样
</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">realpath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
</code></pre></div></div>

<ul>
  <li>这两个如果是server调用script，会定位到server</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># /Users/s/PycharmProjects/dr_check
</span>
<span class="nf">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="nf">getcwd</span><span class="p">())</span>
<span class="c1"># /Users/s/PycharmProjects/dr_check
</span></code></pre></div></div>

<ul>
  <li>有空试试这个：</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="nc">Path</span><span class="p">(</span><span class="n">__file__</span><span class="p">).</span><span class="nf">resolve</span><span class="p">().</span><span class="n">parent</span><span class="p">.</span><span class="n">parent</span>
</code></pre></div></div>

<ul>
  <li>补充：os.sep可以获取当前系统的路径分隔符（正斜杠、反斜杠）
    <ul>
      <li>如果不能确定的话可以用<code class="language-plaintext highlighter-rouge">os.path.normpath()</code>来格式化正反斜杠</li>
    </ul>
  </li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 拆分所有路径
</span><span class="nb">dir</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">sep</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>两个路径之间的相对路径</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">relpath</span><span class="p">(</span><span class="n">methodPathIn</span><span class="p">,</span><span class="n">self</span><span class="p">.</span><span class="n">path_in</span><span class="p">)</span>
</code></pre></div></div>

<!-- ![引入图片](/image/python/2023-07-13-abs_path/image_1.jpg) -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="python" /><summary type="html"><![CDATA[获取当前程序运行的绝对路径法1]]></summary></entry><entry><title type="html">python: threading多线程</title><link href="/python/threading/" rel="alternate" type="text/html" title="python: threading多线程" /><published>2023-07-13T13:59:46+08:00</published><updated>2023-07-13T13:59:46+08:00</updated><id>/python/threading</id><content type="html" xml:base="/python/threading/"><![CDATA[<ul>
  <li>基本写法</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">threading</span>

<span class="k">def</span> <span class="nf">test_thread</span><span class="p">:</span>
    <span class="c1"># xxx
</span>    <span class="k">pass</span>

<span class="n">thread_hi</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">test_thread</span><span class="p">)</span>
<span class="n">thread_hello</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">test_thread</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="sh">'</span><span class="s">hello</span><span class="sh">'</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">thread_hi</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
<span class="n">thread_hello</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>多线程不能被ctrl+c中断，设置deamon参数使得子线程随主线程一起中断</li>
  <li>（即设置为守护进程，当程序仅剩守护进程时退出）</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">th_shot</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">shot_main</span><span class="p">)</span>
<span class="n">th_sharpen</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="nc">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sharpen_main</span><span class="p">)</span>
<span class="n">th_shot</span><span class="p">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">th_sharpen</span><span class="p">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">th_sharpen</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
<span class="n">th_shot</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">sharpen_running</span><span class="p">:</span>
    <span class="k">break</span>
</code></pre></div></div>
<ul>
  <li>上面的代码实测无法完全同时运行，th2运行中会等待th1</li>
  <li>没能实现这个功能</li>
</ul>

<p><img src="/image/python/2023-07-13-threading/image_1.jpg" alt="引入图片" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code></code></pre></div></div>]]></content><author><name></name></author><category term="python" /><summary type="html"><![CDATA[基本写法]]></summary></entry></feed>